Tests that cross-origin iframe storage access is granted if the iframe is sandboxed, has the allow token, the iframe origin is a prevalent resource, the iframe origin has had user interaction, the user opts in, and the frame is the one with access.

On success, you will see a series of "PASS" messages, followed by "TEST COMPLETE".


PASS Storage access was granted. document.cookie == firstPartyCookie=value, cookies seen server-side == {"firstPartyCookie":"value"}
PASS successfullyParsed is true

TEST COMPLETE
  

--------
Frame: '<!--frame1-->'
--------
After the top frame navigates the sub frame, the sub frame should no longer have access to first-party cookies.
Did not receive cookie named 'firstPartyCookie'.
Received cookie named 'partitionedCookie'.
Client-side document.cookie: partitionedCookie=value

--------
Frame: '<!--frame2-->'
--------
Should receive first-party cookie.
Received cookie named 'firstPartyCookie'.
Did not receive cookie named 'partitionedCookie'.
Client-side document.cookie: firstPartyCookie=value

--------
Frame: '<!--frame3-->'
--------
Should not receive cookies.
Did not receive cookie named 'firstPartyCookie'.
Did not receive cookie named 'partitionedCookie'.
Client-side document.cookie:

--------
Frame: '<!--frame4-->'
--------



--------
Frame: '<!--frame5-->'
--------
Should receive partitioned cookie.
Did not receive cookie named 'firstPartyCookie'.
Received cookie named 'partitionedCookie'.
Client-side document.cookie: partitionedCookie=value
